## üìò ADR-002: Sistema de Persistencia (H2 vs MySQL)

* **Estado:** Aceptado
* **Fecha:** 2025-12-09
* **Autores:** Marco Antonio Saavedra Castro (Desarrollador Backend / Arquitecto Software)
* **Revisores:** Equipo acad√©mico del m√≥dulo de Arquitectura de Software - Tecsup

### 1. Contexto y Declaraci√≥n del Problema
El proyecto requiere un motor de base de datos para almacenar:
* Cuentas bancarias
* Transacciones
* Saldos
* Auditor√≠a b√°sica

Para la fase acad√©mica y de pruebas autom√°ticas, se necesitaba una base ligera, r√°pida y embebida. Para futuras fases, podr√≠a usarse un motor m√°s robusto.

### 2. Factores de Decisi√≥n
* **Velocidad de inicio:** El sistema debe levantarse en segundos.
* **Simplicidad:** La BD debe ser f√°cil de resetear y recrear.
* **Costo:** Debe ser gratuita.
* **Integraci√≥n con Spring Boot:** Debe funcionar sin configuraci√≥n compleja.
* **Migraci√≥n futura:** Debe permitir pasar a MySQL sin reescribir el dominio.

### 3. Opciones Consideradas

#### Opci√≥n A ‚Äî H2 Database ‚Äî ‚úî ELEGIDA
* Embebida
* Sin instalaci√≥n
* Ligera y r√°pida
* Excelente para testing

#### Opci√≥n B ‚Äî MySQL
* Robusta
* Adecuada para producci√≥n
* Requiere instalaci√≥n, configuraci√≥n y m√°s tiempo

### 4. Decisi√≥n Tomada
Se usa **H2 Database** como almacenamiento principal para la fase acad√©mica.

### 5. Justificaci√≥n

**Ventajas de H2:**
* Arranca en milisegundos.
* Se integra solo con dependencias starter.
* Permite recrear la BD en cada inicio, mediante su configuraci√≥n sencilla.
* Ideal para pruebas unitarias e integraci√≥n.
* No requiere instalaciones externas, solo especificar dependencias.


### 6. Consecuencias

**Positivas:**
* Desarrollo m√°s r√°pido.
* Arranques limpios en cada ejecuci√≥n.
* Menor complejidad en la configuraci√≥n.
* Alineado con filosof√≠a hexagonal: BD es reemplazable.

**Negativas:**
* No recomendado para producci√≥n.
* Algunas diferencias SQL con MySQL (dialectos, funciones).
* Manejo de restricciones menos estricto.